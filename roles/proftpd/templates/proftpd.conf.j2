#
{% if ansible_os_family == "Debian" %}
Include /etc/proftpd/modules.conf
{% endif %}
UseIPv6             on
IdentLookups        off
ServerName          ""
ServerType          standalone
DeferWelcome        off
MultilineRFC2228    on
DefaultServer       on
ShowSymlinks        on
TimeoutNoTransfer   600
TimeoutStalled      600
TimeoutIdle         1200
DisplayLogin        welcome.msg
DisplayChdir        .message true
ListOptions          "-l"
DenyFilter          \*.*/
DefaultRoot         ~
RequireValidShell   on
Port                {{ ftp_port }}
PassivePorts        {{ pasv_port_min }} {{ pasv_port_max }}
MasqueradeAddress   {{ inventory_hostname }}
MaxInstances        30
{% if ansible_os_family == "Debian" %}
User                proftpd
Group               nogroup
{% else %}
User                nobody
Group               nobody
{% endif %}
Umask               022  022
AllowOverwrite      on
TransferLog         /var/log/proftpd/xferlog
SystemLog           /var/log/proftpd/proftpd.log
{% if ansible_os_family == "Debian" %}
UseLastlog          on
{% endif %}
